function constructQuery(){queryStr=query.join(""),setScreenValue()}function setScreenValue(){screenVal=queryStr,screenVal=screenVal.replace("*","x"),screenVal=screenVal.replace("/","%"),screen.text(screenVal)}function calcTotal(a){return evaluate=eval(a),evaluate}function displayTotal(){var e=calcTotal(queryStr);screen.text(e),"37047734"===screen.text()&&(alert("hellhole"),$("#calculator").addClass("rotated"))}function resetQuery(){screen.text(""),query=[]}var screen=$("#screen"),numberButton=$(".number"),inputValue="",query=[],queryStr="",equalsButton=$("#equals"),ceButton=$("#ce"),screenVal="";numberButton.on("click",function(){inputValue=$(this).data("val"),query.push(inputValue),constructQuery()}),document.onkeypress=function(e){e=e||window.event;var t=e.keyCode||e.which,n=String.fromCharCode(t),r=["0","1","2","3","4","5","6","7","8","9","+","-","*"];r.indexOf(n)>-1&&query.push(n),"13"!=t&&"61"!=t||displayTotal(),constructQuery()},equalsButton.on("click",function(){displayTotal()}),ceButton.on("click",function(){resetQuery()});