function constructQuery(){queryStr=query.join(""),setScreenValue()}function setScreenValue(){screenVal=queryStr,screenVal=screenVal.replace("*","x"),screenVal=screenVal.replace("/","%"),screen.text(screenVal)}function calcTotal(a){return evaluate=eval(a),evaluate}function displayTotal(){var e=calcTotal(queryStr);screen.text(e),"37047734"===screen.text()&&(alert("hellhole"),$("#calculator").addClass("rotated"))}function resetQuery(){onOff.hasClass("active")?screen.text("0"):screen.text(""),query=[]}function powerDown(){numberButton.unbind(),screen.text(""),resetQuery()}function main(){screen.text("0"),numberButton.on("click",function(){inputValue=$(this).data("val"),query.push(inputValue),constructQuery()}),document.onkeypress=function(e){if(onOff.hasClass("active")){e=e||window.event;var n=e.keyCode||e.which,t=String.fromCharCode(n),r=["0","1","2","3","4","5","6","7","8","9","+","-","*"];r.indexOf(t)>-1&&query.push(t),"13"!=n&&"61"!=n||displayTotal(),constructQuery()}},equalsButton.on("click",function(){displayTotal()}),ceButton.on("click",function(){resetQuery()})}var screen=$("#screen"),numberButton=$(".number"),inputValue="",query=[],queryStr="",equalsButton=$("#equals"),ceButton=$("#ce"),screenVal="",onOff=$("#on-off");onOff.on("click",function(){onOff.toggleClass("active"),screen.toggleClass("active"),onOff.hasClass("active")?main():powerDown()});